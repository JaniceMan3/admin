/**
 * @license
 * Copyright Akveo. All Rights Reserved.
 * Licensed under the MIT License. See License.txt in the project root for license information.
 */

@import './outline-buttons';

@mixin dropdown-menu-background($color) {
  background-color: $color;
}

@mixin dropdown-menu-primary-background() {
  @include dropdown-menu-background(nga-theme(btn-primary-bg));
}

@mixin dropdown-menu-success-background() {
  @include dropdown-menu-background(nga-theme(btn-success-bg));
}

@mixin dropdown-menu-warning-background() {
  @include dropdown-menu-background(nga-theme(btn-warning-bg));
}

@mixin dropdown-menu-info-background() {
  @include dropdown-menu-background(nga-theme(btn-info-bg));
}

@mixin dropdown-menu-danger-background() {
  @include dropdown-menu-background(nga-theme(btn-danger-bg));
}

@mixin dropdown-menu-secondary-background() {
  @include dropdown-menu-background(nga-theme(btn-secondary-border));
}


@mixin dropdown-menu-divider($color) {
  border-top: 1px solid shade($color, 14%);
}

@mixin dropdown-menu-primary-divider() {
  @include dropdown-menu-divider(nga-theme(btn-primary-bg));
}

@mixin dropdown-menu-success-divider() {
  @include dropdown-menu-divider(nga-theme(btn-success-bg));
}

@mixin dropdown-menu-warning-divider() {
  @include dropdown-menu-divider(nga-theme(btn-warning-bg));
}

@mixin dropdown-menu-info-divider() {
  @include dropdown-menu-divider(nga-theme(btn-info-bg));
}

@mixin dropdown-menu-danger-divider() {
  @include dropdown-menu-divider(nga-theme(btn-danger-bg));
}

@mixin dropdown-menu-secondary-divider() {
  @include dropdown-menu-divider(nga-theme(btn-secondary-border));
}

@mixin nga-b-dropdowns-theme() {
  .dropdown.btn-group {
    width: 100%;

    .btn:first-child {
      width: 90%;
      text-align: left;
    }

    .dropdown-toggle {
      width: 10%;
    }
  }

  .dropdown.btn-group > .dropdown-toggle::after {
    margin-left: 0;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  .dropdown.btn-group.show {
    .btn:first-child {
      border-bottom-left-radius: 0;
    }
  }

  .dropdown {
    .dropdown-toggle {
      width: 100%;
      text-align: left;
      position: relative;
    }

    .dropdown-toggle::after {
      position: absolute;
    }

    .btn-primary,
    .btn-success,
    .btn-warning,
    .btn-info,
    .btn-danger,
    .btn-secondary {
      border-color: transparent;
    }

    .btn-primary + .dropdown-menu,
    .btn-outline-primary + .dropdown-menu {
      @include dropdown-menu-primary-background();
      @include dropdown-menu-primary-divider();
    }

    .btn-success + .dropdown-menu,
    .btn-outline-success + .dropdown-menu {
      @include dropdown-menu-success-background();
      @include dropdown-menu-success-divider();
    }

    .btn-warning + .dropdown-menu,
    .btn-outline-warning + .dropdown-menu {
      @include dropdown-menu-warning-background();
      @include dropdown-menu-warning-divider();
    }

    .btn-info + .dropdown-menu,
    .btn-outline-info + .dropdown-menu {
      @include dropdown-menu-info-background();
      @include dropdown-menu-info-divider();
    }

    .btn-danger + .dropdown-menu,
    .btn-outline-danger + .dropdown-menu {
      @include dropdown-menu-danger-background();
      @include dropdown-menu-danger-divider();
    }

    .btn-secondary + .dropdown-menu,
    .btn-outline-secondary + .dropdown-menu {
      @include dropdown-menu-secondary-background();
      @include dropdown-menu-secondary-divider();
    }

    .btn-primary + .dropdown-menu > .dropdown-item,
    .btn-outline-primary + .dropdown-menu > .dropdown-item {
      @include btn-primary-hover();
      @include btn-primary-focus();
      @include btn-primary-active();
    }

    .btn-success + .dropdown-menu > .dropdown-item,
    .btn-outline-success + .dropdown-menu > .dropdown-item {
      @include btn-success-hover();
      @include btn-success-focus();
      @include btn-success-active();
    }

    .btn-warning + .dropdown-menu > .dropdown-item,
    .btn-outline-warning + .dropdown-menu > .dropdown-item {
      @include btn-warning-hover();
      @include btn-warning-focus();
      @include btn-warning-active();
    }

    .btn-info + .dropdown-menu > .dropdown-item,
    .btn-outline-info + .dropdown-menu > .dropdown-item {
      @include btn-info-hover();
      @include btn-info-focus();
      @include btn-info-active();
    }

    .btn-danger + .dropdown-menu > .dropdown-item,
    .btn-outline-danger + .dropdown-menu > .dropdown-item {
      @include btn-danger-hover();
      @include btn-danger-focus();
      @include btn-danger-active();
    }

    .btn-secondary + .dropdown-menu > .dropdown-item,
    .btn-outline-secondary + .dropdown-menu > .dropdown-item {
      @include btn-secondary-hover();
      @include btn-secondary-focus();
      @include btn-secondary-active();
    }

    .dropdown-menu {
      margin: 0;
      border-top-left-radius: 0;
      border-top-right-radius: 0;
      border-bottom-left-radius: nga-theme(btn-border-radius);
      border-bottom-right-radius: nga-theme(btn-border-radius);
      border: none;
      width: 100%;
      color: nga-theme(btn-text-color);
      padding: 0.75rem 0;
    }

    .dropdown-item {
      color: inherit;
      padding: 0.75rem 1.5rem;
      text-transform: uppercase;
      font-size: 0.875rem;
      font-family: nga-theme(font-secondary);
    }
  }

  .dropdown:not(.btn-group) {
    .dropdown-toggle::after {
      top: 50%;
      right: 1.125rem;
    }
  }

  .dropdown.show {
    .dropdown-toggle {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  .dropdown.ghost-dropdown {
    .dropdown-toggle {
      background-color: nga-theme(color-bg);
    }

    .dropdown-menu {
      background-color: nga-theme(color-bg);
    }

    .btn-primary:hover {
      @include btn-outline-primary-border();
    }

    .btn-success:hover {
      @include btn-outline-success-border();
    }

    .btn-warning:hover {
      @include btn-outline-warning-border();
    }

    .btn-info:hover {
      @include btn-outline-info-border();
    }

    .btn-danger:hover {
      @include btn-outline-danger-border();
    }

    .btn-secondary:hover {
      @include btn-outline-secondary-border();
    }

    .btn-primary + .dropdown-menu {
      @include btn-outline-primary-border();

      border-top: none;
    }

    .btn-success + .dropdown-menu {
      @include btn-outline-success-border();

      border-top: none;
    }

    .btn-warning + .dropdown-menu {
      @include btn-outline-warning-border();

      border-top: none;
    }

    .btn-info + .dropdown-menu {
      @include btn-outline-info-border();

      border-top: none;
    }

    .btn-danger + .dropdown-menu {
      @include btn-outline-danger-border();

      border-top: none;
    }

    .btn-secondary + .dropdown-menu {
      @include btn-outline-secondary-border();

      border-top: none;
    }

    .btn-primary + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-primary-bg);
      }
    }

    .btn-success + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-success-bg);
      }
    }

    .btn-warning + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-warning-bg);
      }
    }

    .btn-info + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-info-bg);
      }
    }

    .btn-danger + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-danger-bg);
      }
    }

    .btn-secondary + .dropdown-menu > .dropdown-item {
      &:hover {
        background-color: nga-theme(btn-secondary-border);
      }
    }
  }

  .dropdown.ghost-dropdown.show {
    .dropdown-toggle {
      &.btn-primary {
        @include btn-outline-primary-border();
      }

      &.btn-success {
        @include btn-outline-success-border();
      }

      &.btn-warning {
        @include btn-outline-warning-border();
      }

      &.btn-info {
        @include btn-outline-info-border();
      }

      &.btn-danger {
        @include btn-outline-danger-border();
      }

      &.btn-secondary {
        @include btn-outline-secondary-border();
      }
    }

    .dropdown-menu {
      margin-top: -2px;
    }
  }
}
